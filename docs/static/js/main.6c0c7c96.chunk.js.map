{"version":3,"sources":["components/Header/Header.module.scss","components/UI/Button/Button.module.scss","components/FlightCard/FlightCard.module.scss","pages/Main/Main.module.scss","pages/Login/Login.module.scss","store/flightsReducer.js","store/loginReducer.js","saga/flightSaga.js","store/index.js","utils/validators.js","components/UI/Button/Button.js","components/UI/TextInput/TextInput.js","pages/Login/Login.js","pages/Logout/Logout.js","components/UI/Slider/Slider.js","utils/formatDate.js","components/FlightCard/FlightCard.js","components/Header/Header.js","components/UI/DatePicker/DatePicker.js","pages/Main/Main.js","App.js","index.js","components/UI/TextInput/TextInput.module.scss","components/UI/Slider/Slider.module.scss","components/UI/DatePicker/DatePicker.module.scss"],"names":["module","exports","GET_FLIGHTS","SET_FLIGHTS","TOGGLE_LIKE","initialState","flights","favoriteFlights","sliderImages","LOGIN","LOGOUT","token","getFlightsWorker","flightWatcher","getFlightsAPI","date","options","method","url","headers","axios","request","then","response","data","catch","e","console","log","call","result","put","type","takeEvery","sagaMiddleware","createSagaMiddleware","rootReducer","combineReducers","state","action","id","index","indexOf","push","splice","login","localStorage","setItem","removeItem","form","reduxFormReducer","store","createStore","applyMiddleware","run","min","Button","input","props","meta","className","classes","children","TextInput","hasError","error","touched","cls","invalid","label","join","required","value","email","is","alphaNumeric","test","minLength8","length","LoginReduxForm","reduxForm","onSubmit","handleSubmit","inputs_wrapper","Field","validate","component","name","button_wrapper","Login","dispatch","useDispatch","form_wrapper","form_title","values","Logout","to","CustomSlider","dots","infinite","speed","slidesToShow","variableWidth","slidesToScroll","autoplay","slider_wrapper","images","map","image","slide","picture","style","backgroundImage","getTimeForCard","hours","getHours","toLocaleString","minimumIntegerDigits","useGrouping","minutes","getMinutes","FlightCard","plane","plane_wrapper","src","alt","info","destination","from","fromCityName","fromCityCode","destination_arrow","toCityName","toCityCode","departureDate","Date","year","month","day","dash","time","carrier","price","like","isLiked","onClick","onLike","width","height","cost","Header","logout","CustomDatePicker","CustomInput","forwardRef","ref","DatePicker","replace","img","selected","onChange","customInput","minDate","connect","getFlights","getFlightsCreator","toggleFlightLike","toggleFlightLikeCreator","React","useState","setDepartureDate","useEffect","toISOString","split","onLikeClickHandler","Page","wrapper","header","title","arrow","flights__counter","counter_value","flights__list","Quotes","quote","QuoteId","MinPrice","OutboundLeg","DepartureDate","Carriers","Name","isAuthenticated","autoLogin","getItem","path","Main","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6c0c7c96.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"Header_Header__1iKqF\",\"logout\":\"Header_logout__IP9U5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1j-zZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FlightCard\":\"FlightCard_FlightCard__HrJ4o\",\"plane\":\"FlightCard_plane__1d_JT\",\"plane_wrapper\":\"FlightCard_plane_wrapper__1xceW\",\"info\":\"FlightCard_info__1Jf0R\",\"destination\":\"FlightCard_destination__325vf\",\"destination_arrow\":\"FlightCard_destination_arrow__2nhIS\",\"departureDate\":\"FlightCard_departureDate__1DndA\",\"dash\":\"FlightCard_dash__3Gu98\",\"carrier\":\"FlightCard_carrier__xaIIf\",\"price\":\"FlightCard_price__Ceep5\",\"cost\":\"FlightCard_cost__ByuGp\",\"value\":\"FlightCard_value__18vz0\",\"like\":\"FlightCard_like__3dZWo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Page\":\"Main_Page__1DHqG\",\"wrapper\":\"Main_wrapper__35P3j\",\"header\":\"Main_header__3y46Q\",\"arrow\":\"Main_arrow__3zJ04\",\"date\":\"Main_date__1xJZs\",\"slider_wrapper\":\"Main_slider_wrapper__2jVid\",\"flights__counter\":\"Main_flights__counter__2NJTY\",\"counter_value\":\"Main_counter_value__2TIqX\",\"flights__list\":\"Main_flights__list__Z-90I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Login\":\"Login_Login__3DFhr\",\"form_wrapper\":\"Login_form_wrapper__1nApP\",\"form_title\":\"Login_form_title__32UWV\",\"form\":\"Login_form__iWHbJ\",\"inputs_wrapper\":\"Login_inputs_wrapper__M9sr1\",\"button_wrapper\":\"Login_button_wrapper__3ljX9\"};","export const GET_FLIGHTS = \"GET_FLIGHTS\";\r\nexport const SET_FLIGHTS = \"SET_FLIGHTS\";\r\nexport const TOGGLE_LIKE = \"TOGGLE_LIKE\";\r\n\r\nconst initialState = {\r\n    flights: null,\r\n    favoriteFlights: [],\r\n    sliderImages: [\r\n        \"http://topsweet.ru/wp-content/uploads/2019/12/new-york2-696x464.jpg\",\r\n        \"https://i.pinimg.com/originals/68/d0/af/68d0afa8eab80d928329273b8b7831e0.jpg\",\r\n        \"http://www.pozitiff.info/uploads/posts/2018-01/1515178692_1515100070_08.jpg\",\r\n        \"https://avatars.mds.yandex.net/get-pdb/33827/a552c06c-517b-4791-9bcc-c2bfba569184/s1200?webp=false\"\r\n    ]\r\n}\r\n\r\nexport function flightsReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case SET_FLIGHTS:\r\n            return { ...state, flights: action.data }\r\n        case TOGGLE_LIKE:\r\n            console.log(action.id);\r\n            const favoriteFlights = [...state.favoriteFlights];\r\n            const index = favoriteFlights.indexOf(action.id);\r\n            if (index === -1) {\r\n                favoriteFlights.push(action.id);\r\n            } else {\r\n                favoriteFlights.splice(index, 1);\r\n            }\r\n            console.log(favoriteFlights);\r\n            return { ...state, favoriteFlights: favoriteFlights }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport function getFlightsCreator(date) {\r\n    return {\r\n        type: GET_FLIGHTS,\r\n        date,\r\n    }\r\n}\r\n\r\nexport function setFlightsCreator(data) {\r\n    return {\r\n        type: SET_FLIGHTS,\r\n        data\r\n    }\r\n}\r\n\r\nexport function toggleFlightLikeCreator(id) {\r\n    return { type: TOGGLE_LIKE, id }\r\n}","const LOGIN = \"LOGIN\";\r\nconst LOGOUT = \"LOGOUT\";\r\n\r\nconst initialState = {\r\n    token: null\r\n}\r\n\r\nexport default function loginReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case LOGIN:\r\n            localStorage.setItem(\"token\", \"fake_token\")\r\n            return { ...state, token: \"fake_token\" };\r\n        case LOGOUT:\r\n            localStorage.removeItem(\"token\");\r\n            return { ...state, token: null };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const autoLogin = () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token) {\r\n        return { type: LOGIN };\r\n    } else {\r\n        return { type: LOGOUT}\r\n    }\r\n}","import { put, takeEvery, call } from \"redux-saga/effects\"\r\nimport { GET_FLIGHTS, setFlightsCreator } from \"../store/flightsReducer\";\r\nimport axios from \"axios\";\r\n\r\nconst getFlightsAPI = (date) => {\r\n    const options = {\r\n        method: 'GET',\r\n        url: `https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browsequotes/v1.0/RU/RUB/ru/SVO-sky/JFK-sky/${date}`,\r\n        headers: {\r\n            'x-rapidapi-key': 'b8b6b6f8e7mshd691456de9a22d7p1228e3jsne2aebab42dc3',\r\n            'x-rapidapi-host': 'skyscanner-skyscanner-flight-search-v1.p.rapidapi.com'\r\n        }\r\n    };\r\n\r\n    return axios.request(options)\r\n    .then(response => response.data)\r\n    .catch(e => console.log(e));\r\n}\r\n\r\nfunction* getFlightsWorker({date}) {\r\n    try {\r\n        const result = yield call(getFlightsAPI, date);\r\n        yield put(setFlightsCreator(result));\r\n    } catch {\r\n        \r\n    }\r\n}\r\n\r\nexport function* flightWatcher() {\r\n    yield takeEvery(GET_FLIGHTS, getFlightsWorker)\r\n}","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport { flightsReducer } from \"./flightsReducer\";\r\nimport loginReducer from \"./loginReducer\";\r\nimport { reducer as reduxFormReducer } from \"redux-form\";\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport { flightWatcher } from \"../saga/flightSaga\";\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst rootReducer = combineReducers({\r\n    flights: flightsReducer,\r\n    login: loginReducer,\r\n    form: reduxFormReducer,\r\n});\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(sagaMiddleware));\r\n\r\nsagaMiddleware.run(flightWatcher);","import is from \"is_js\";\r\n\r\nexport const required = (value) => {\r\n    if (value) return undefined;\r\n    return \"Обязательное поле\";\r\n}\r\n\r\nexport const email = (value) => {\r\n    if (is.email(value)) return undefined;\r\n    return \"Введите почту\";\r\n}\r\n\r\nexport const alphaNumeric = (value) => {\r\n    if (/[^a-zA-Z0-9/s]/i.test(value)) return \"Без кириллицы и пробелов\";\r\n    return undefined;\r\n}\r\n\r\nexport const minLengthCreator = (min) => (value) => {\r\n    if (value.length >= min) return undefined;\r\n    return `Минимум ${min} символов`;\r\n}","import classes from './Button.module.scss'\r\nimport React from 'react'\r\n\r\n\r\nconst Button = ({ input, meta, ...props }) => {\r\n    return (\r\n        <button className={classes.Button} {...input} {...props} >\r\n            {props.children}\r\n        </button>\r\n    )\r\n}\r\n\r\n\r\nexport default Button","import classes from './TextInput.module.scss'\r\nimport React from 'react'\r\n\r\n\r\nconst TextInput = ({ input, meta, ...props }) => {\r\n\r\n    const hasError = meta.error && meta.touched;\r\n    let cls = [classes.input];\r\n\r\n    if (hasError) {\r\n        cls.push(classes.invalid);\r\n    }\r\n\r\n    return (\r\n        <div className={classes.TextInput}>\r\n            <label className={classes.label}>{props.label}</label>\r\n            <input className={cls.join(\" \")} {...input} {...props} />\r\n            {hasError && <span className={classes.error}>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default TextInput","import React from 'react'\r\nimport { useDispatch } from 'react-redux';\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport Button from '../../components/UI/Button/Button';\r\nimport TextInput from '../../components/UI/TextInput/TextInput';\r\nimport { alphaNumeric, email, minLengthCreator, required } from '../../utils/validators';\r\nimport classes from './Login.module.scss';\r\n\r\nconst minLength8 = minLengthCreator(8);\r\n\r\nconst Login = () => {\r\n    const dispatch = useDispatch()\r\n    const onLogin = (values) => {\r\n        dispatch({type: \"LOGIN\"})\r\n    }\r\n    return (\r\n        <div className={classes.Login}>\r\n            <div className={classes.form_wrapper}>\r\n                <h1 className={classes.form_title}>\r\n                    Simple Flight Check\r\n                </h1>\r\n                <LoginReduxForm onSubmit={onLogin} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={classes.form}>\r\n            <div className={classes.inputs_wrapper}>\r\n                <Field\r\n                    label=\"Логин:\"\r\n                    validate={[required, email]}\r\n                    component={TextInput}\r\n                    type=\"text\"\r\n                    name=\"login\"\r\n                />\r\n                <Field\r\n                    label=\"Пароль:\"\r\n                    validate={[required, minLength8,  alphaNumeric]}\r\n                    component={TextInput}\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                />\r\n            </div>\r\n            <div className={classes.button_wrapper}>\r\n                <Button>Войти</Button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: \"login\" })(LoginForm)\r\n\r\n\r\n\r\n\r\nexport default Login","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Redirect } from 'react-router';\r\n\r\n\r\nconst Logout = () => {\r\n    const dispatch = useDispatch();\r\n    dispatch({ type: \"LOGOUT\" })\r\n    return (\r\n        <Redirect to=\"/login\" />\r\n    )\r\n}\r\n\r\nexport default Logout;","import React from 'react';\r\nimport Slider from 'react-slick';\r\n\r\nimport classes from './Slider.module.scss';\r\n\r\nconst CustomSlider = (props) => {\r\n    const settings = {\r\n        dots: false,\r\n        infinite: true,\r\n        speed: 500,\r\n        slidesToShow: 1,\r\n        variableWidth: true,\r\n        slidesToScroll: 1,\r\n        autoplay: true,\r\n    };\r\n    return (\r\n        <Slider {...settings} className={classes.slider_wrapper}>\r\n            {props.images.map((image, index) => {\r\n                return (\r\n                    <div key={index} className={classes.slide}>\r\n                        <div className={classes.picture} style={{ backgroundImage: `url(\"${image}\")`}}/>\r\n                    </div>\r\n                )\r\n            })}\r\n        </Slider>\r\n    )\r\n}\r\n\r\n\r\nexport default CustomSlider","export function formatDateForInput(date) {\r\n    return date.toISOString().split('T')[0];\r\n}\r\n\r\nexport function getTimeForCard(date) {\r\n    const hours = date.getHours().toLocaleString('en-US', {\r\n        minimumIntegerDigits: 2,\r\n        useGrouping: false\r\n    });\r\n    const minutes = date.getMinutes().toLocaleString('en-US', {\r\n        minimumIntegerDigits: 2,\r\n        useGrouping: false\r\n    });\r\n    return `${hours}:${minutes}`\r\n}\r\n\r\nexport function getDateForCard(date) {\r\n    const options = {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric'\r\n    }\r\n    return date.toLocaleString(\"en-US\", options);\r\n}\r\n\r\nexport function formatDateForDatePicker(date) {\r\n    const options = {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric'\r\n    }\r\n    return date.toLocaleString(\"ru\", options).replace(\" г.\", \"\");\r\n}","import classes from './FlightCard.module.scss';\r\nimport React from 'react';\r\nimport { getDateForCard, getTimeForCard } from '../../utils/formatDate';\r\n\r\n\r\nconst FlightCard = (props) => {\r\n    return (\r\n        <div className={classes.FlightCard}>\r\n            <div className={classes.plane}>\r\n                <div className={classes.plane_wrapper}>\r\n                    <img src=\"/plane.svg\" alt=\"plane\" />\r\n                </div>\r\n            </div>\r\n            <div className={classes.info}>\r\n                <div className={classes.destination}>\r\n                    <div className={classes.from}>\r\n                        {`${props.fromCityName} (${props.fromCityCode})`}\r\n                    </div>\r\n                    <img className={classes.destination_arrow} src=\"arrow-right.svg\" alt=\"arrow\" />\r\n                    <div className={classes.to}>\r\n                        {`${props.toCityName} (${props.toCityCode})`}\r\n                    </div>\r\n                </div>\r\n                <div className={classes.departureDate}>\r\n                    <div className={classes.date}>\r\n                        {getDateForCard(new Date(props.departureDate))}\r\n                    </div>\r\n                    <img className={classes.dash} src=\"dash.svg\" alt=\"dash\" />\r\n                    <div className={classes.time}>\r\n                        {getTimeForCard(new Date(props.departureDate))}\r\n                    </div>\r\n                </div>\r\n                <div className={classes.carrier}>{props.carrier}</div>\r\n            </div>\r\n            <div className={classes.price}>\r\n                <div>\r\n                    <img\r\n                        className={classes.like}\r\n                        src={props.isLiked ? \"/like.svg\" : \"/unlike.svg\"}\r\n                        alt=\"like\"\r\n                        onClick={() => props.onLike(`${props.departureDate}_${props.id}`)}\r\n                        width={21}\r\n                        height={18}\r\n                    />\r\n                </div>\r\n                <div className={classes.cost}>\r\n                    Price:&nbsp;\r\n                    <span className={classes.value}>{`${props.price.toLocaleString('ru-RU')} ₽`}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FlightCard","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport classes from './Header.module.scss';\r\n\r\nconst Header = () => {\r\n    return (\r\n        <header className={classes.Header}>\r\n            <Link className={classes.logout} to=\"/logout\">\r\n                <span>\r\n                    Выйти\r\n                </span>\r\n                <img src=\"/logout.svg\" alt=\"logout\" />\r\n            </Link>\r\n        </header>\r\n    )\r\n}\r\n\r\n\r\nexport default Header","import React, { forwardRef } from 'react';\r\nimport { formatDateForDatePicker } from '../../../utils/formatDate';\r\nimport DatePicker from \"react-datepicker\"\r\n\r\nimport classes from './DatePicker.module.scss';\r\n\r\nconst CustomDatePicker = (props) => {\r\n    const CustomInput = forwardRef(\r\n        ({ value, onClick }, ref) => (\r\n            <button className={classes.DatePicker} onClick={onClick} ref={ref}>\r\n                <div className={classes.value}>\r\n                    {formatDateForDatePicker(new Date(value))}\r\n                </div>\r\n                <img className={classes.img} src=\"/calendar.svg\" alt=\"calendar\" />\r\n            </button>\r\n        ),\r\n    );\r\n    return (\r\n        <DatePicker\r\n            selected={props.value}\r\n            onChange={date => props.onChange(date)}\r\n            customInput={<CustomInput/>}\r\n            minDate={new Date()}\r\n        />\r\n    )\r\n}\r\n\r\nexport default CustomDatePicker","import React from 'react'\r\nimport { connect } from 'react-redux';\r\n\r\nimport CustomSlider from '../../components/UI/Slider/Slider';\r\nimport FlightCard from '../../components/FlightCard/FlightCard';\r\nimport Header from '../../components/Header/Header';\r\nimport CustomDatePicker from '../../components/UI/DatePicker/DatePicker';\r\n\r\nimport { getFlightsCreator, toggleFlightLikeCreator } from '../../store/flightsReducer';\r\nimport classes from './Main.module.scss';\r\nimport { formatDateForInput } from '../../utils/formatDate';\r\n\r\nconst Main = (props) => {\r\n    const [departureDate, setDepartureDate] = React.useState(new Date());\r\n\r\n    React.useEffect(() => {\r\n        if (!departureDate) {\r\n            setDepartureDate(new Date())\r\n        } else {\r\n            props.getFlights(formatDateForInput(departureDate));\r\n        }\r\n    }, [departureDate])\r\n\r\n    const onLikeClickHandler = (id) => {\r\n        props.toggleFlightLike(id);\r\n    }\r\n\r\n    return (\r\n        <section className={classes.Page}>\r\n            <Header />\r\n            <div className={classes.wrapper}>\r\n                <div className={classes.header}>\r\n                    <div className={classes.title}>\r\n                        Вылеты\r\n                    </div>\r\n                    <img className={classes.arrow} src=\"/arrow.svg\" alt=\">\" width={9} height={17} />\r\n                    <div className={classes.destination}>\r\n                        SVO - JFK\r\n                    </div>\r\n                    <div className={classes.date}>\r\n                        <CustomDatePicker\r\n                            value={departureDate}\r\n                            onChange={setDepartureDate}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className={classes.slider_wrapper}>\r\n                    <CustomSlider images={props.images} />\r\n                </div>\r\n                <div className={classes.flights}>\r\n                    <div className={classes.flights__counter}>\r\n                        Добавлено в Избранное:&nbsp;&nbsp;<span className={classes.counter_value}>{props.favoriteFlights.length}</span>&nbsp;рейсов\r\n                    </div>\r\n                    <div className={classes.flights__list}>\r\n                        {props.flights ?\r\n                            props.flights.Quotes.map((quote) => {\r\n                                return (\r\n                                    <FlightCard\r\n                                        key={quote.QuoteId}\r\n                                        id={quote.QuoteId}\r\n                                        price={quote.MinPrice}\r\n                                        departureDate={quote.OutboundLeg.DepartureDate}\r\n                                        fromCityName=\"Moscow\"\r\n                                        fromCityCode=\"SVO\"\r\n                                        toCityName=\"New York City\"\r\n                                        toCityCode=\"JFK\"\r\n                                        carrier={props.flights.Carriers[0].Name}\r\n                                        isLiked={props.favoriteFlights.indexOf(`${quote.OutboundLeg.DepartureDate}_${quote.QuoteId}`) !== -1}\r\n                                        onLike={onLikeClickHandler}\r\n                                    />\r\n                                )\r\n                            })\r\n                            :\r\n                            null\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        flights: state.flights.flights,\r\n        favoriteFlights: state.flights.favoriteFlights,\r\n        images: state.flights.sliderImages,\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        getFlights: (date) => dispatch(getFlightsCreator(date)),\r\n        toggleFlightLike: (id) => dispatch(toggleFlightLikeCreator(id)),\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Main);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect, Route, Switch } from 'react-router';\nimport Login from './pages/Login/Login';\nimport Logout from './pages/Logout/Logout';\nimport Main from './pages/Main/Main';\nimport { autoLogin } from './store/loginReducer';\n\nfunction App(props) {\n  React.useEffect(() => {\n    props.autoLogin();\n  }, [])\n  console.log(props.isAuthenticated);\n  return (\n    <div>\n      {props.isAuthenticated ?\n        <Switch>\n          <Route path=\"/\" component={Main} exact />\n          <Route path=\"/logout\" component={Logout} />\n          <Redirect to=\"/\" />\n        </Switch>\n        :\n        <Switch>\n          <Route path=\"/login\" component={Login} />\n          <Redirect to=\"/login\" />\n        </Switch>\n      }\n\n    </div>\n  );\n}\n\nfunction mapStateToProps(state) {\n  return {\n    isAuthenticated: !!state.login.token,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    autoLogin: () => dispatch(autoLogin())\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { store } from \"./store\";\nimport { BrowserRouter } from \"react-router-dom\"\n\nimport './index.css';\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport App from './App';\n\n\nReactDOM.render(\n  <BrowserRouter>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TextInput\":\"TextInput_TextInput__1TK5W\",\"label\":\"TextInput_label__2Ncbx\",\"input\":\"TextInput_input__RNXma\",\"invalid\":\"TextInput_invalid__1KajR\",\"error\":\"TextInput_error__32SW7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slider_wrapper\":\"Slider_slider_wrapper__1Q41y\",\"slide\":\"Slider_slide__-UNb6\",\"picture\":\"Slider_picture__3wKZb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DatePicker\":\"DatePicker_DatePicker__2wqFH\",\"value\":\"DatePicker_value__1igNR\",\"img\":\"DatePicker_img__3pt4H\",\"input\":\"DatePicker_input__hgh6Y\"};"],"sourceRoot":""}